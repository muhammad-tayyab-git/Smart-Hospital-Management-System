<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Bill Detail</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
<div th:replace="fragments/header :: header"></div>


<div class="container mt-4">

    <h2 class="text-primary mb-4">Bill Details</h2>

    <div class="card shadow">
        <div class="card-body">

            <h5>Patient Information</h5>
            <p><strong>Name:</strong> <span th:text="${bill.patient.fullName}"></span></p>

            <h5>Doctor Information</h5>
            <p><strong>Doctor:</strong> <span th:text="${bill.appointment.doctor.fullName}"></span></p>

            <h5>Payment Info</h5>
            <p><strong>Total:</strong> <span th:text="${bill.amount}"></span> â‚¬</p>
            <p>
                <strong>Status:</strong>
                <span th:class="${bill.status == 'PAID' ? 'badge bg-success' :
                 (bill.status == 'PENDING' ? 'badge bg-warning' : 'badge bg-danger')}">
                    <span th:text="${bill.status}"></span>
                </span>
            </p>

            <!-- Update Status -->
            <form th:action="@{'/billing/updateStatus/' + ${bill.id}}" method="post" class="mt-3">
                <div class="input-group">
                    <select name="status" class="form-select">
                        <option value="PENDING" th:selected="${bill.status == 'PENDING'}">Pending</option>
                        <option value="PAID" th:selected="${bill.status == 'PAID'}">Paid</option>
                        <option value="CANCELLED" th:selected="${bill.status == 'CANCELLED'}">Cancelled</option>
                    </select>
                    <button class="btn btn-primary">Update</button>
                </div>
            </form>

        </div>
    </div>

</div>

<div th:replace="fragments/footer :: footer"></div>
</body>
</html>

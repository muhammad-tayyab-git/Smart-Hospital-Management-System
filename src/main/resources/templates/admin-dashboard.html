<!--<!DOCTYPE html>-->
<!--<html xmlns:th="http://www.thymeleaf.org">-->
<!--<head>-->
<!--    <title>Admin Dashboard | Smart Hospital</title>-->

<!--    &lt;!&ndash; Bootstrap &ndash;&gt;-->
<!--    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">-->

<!--    &lt;!&ndash; Icons &ndash;&gt;-->
<!--    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css">-->

<!--    &lt;!&ndash; Chart.js &ndash;&gt;-->
<!--    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>-->

<!--    <style>-->
<!--        body {-->
<!--            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;-->
<!--            background: #f0f2f5;-->
<!--        }-->

<!--        /* Sidebar */-->
<!--        #sidebar {-->
<!--            height: 100vh;-->
<!--            width: 220px;-->
<!--            position: fixed;-->
<!--            top: 0;-->
<!--            left: 0;-->
<!--            background: #343a40;-->
<!--            color: #fff;-->
<!--            padding-top: 20px;-->
<!--            transition: all 0.3s;-->
<!--            z-index: 1000;-->
<!--        }-->

<!--        #sidebar .nav-link {-->
<!--            color: #ddd;-->
<!--            font-weight: 500;-->
<!--            margin: 5px 0;-->
<!--            display: flex;-->
<!--            align-items: center;-->
<!--            border-radius: 8px;-->
<!--            padding: 10px 15px;-->
<!--            transition: background 0.3s;-->
<!--        }-->

<!--        #sidebar .nav-link i {-->
<!--            margin-right: 10px;-->
<!--            font-size: 1.2rem;-->
<!--        }-->

<!--        #sidebar .nav-link:hover {-->
<!--            background: #495057;-->
<!--            color: #fff;-->
<!--        }-->

<!--        #sidebar .nav-link.active {-->
<!--            background: #007bff;-->
<!--            color: #fff;-->
<!--        }-->

<!--        /* Top navbar */-->
<!--        #top-navbar {-->
<!--            margin-left: 220px;-->
<!--            padding: 15px 30px;-->
<!--            background: #fff;-->
<!--            display: flex;-->
<!--            justify-content: flex-end;-->
<!--            align-items: center;-->
<!--            border-bottom: 1px solid #e0e0e0;-->
<!--            position: sticky;-->
<!--            top: 0;-->
<!--            z-index: 999;-->
<!--        }-->

<!--        #top-navbar .nav-item {-->
<!--            margin-left: 20px;-->
<!--        }-->

<!--        #top-navbar .dropdown-menu {-->
<!--            min-width: 180px;-->
<!--        }-->

<!--        /* Main content */-->
<!--        #content {-->
<!--            margin-left: 220px;-->
<!--            padding: 30px;-->
<!--        }-->

<!--        h2 { color: #343a40; }-->

<!--        /* Dashboard cards */-->
<!--        .dashboard-card {-->
<!--            border-radius: 15px;-->
<!--            padding: 25px;-->
<!--            text-align: center;-->
<!--            transition: transform 0.3s, box-shadow 0.3s;-->
<!--            background: #fff;-->
<!--        }-->

<!--        .dashboard-card:hover {-->
<!--            transform: translateY(-5px);-->
<!--            box-shadow: 0 8px 20px rgba(0,0,0,0.12);-->
<!--        }-->

<!--        .dashboard-card h5 { font-size: 1.2rem; margin-bottom: 10px; }-->
<!--        .dashboard-card p { font-size: 0.9rem; color: #555; }-->
<!--        .btn-outline-custom { border-width: 2px; font-weight: 500; }-->

<!--        /* Stat cards */-->
<!--        .stat-card { border-radius: 15px; padding: 25px; color: #fff; text-align: center; transition: transform 0.3s, box-shadow 0.3s; }-->
<!--        .stat-card:hover { transform: translateY(-5px); box-shadow: 0 10px 25px rgba(0,0,0,0.15); }-->
<!--        .stat-card h6 { font-weight: 500; margin-bottom: 10px; text-transform: uppercase; letter-spacing: 0.5px; }-->
<!--        .stat-card h2 { font-size: 2rem; margin-bottom: 10px; }-->
<!--        .stat-card i { font-size: 2.5rem; opacity: 0.7; }-->

<!--        /* Gradient colors for stats */-->
<!--        .stat-doctors { background: linear-gradient(135deg, #6a11cb, #2575fc); }-->
<!--        .stat-patients { background: linear-gradient(135deg, #43cea2, #185a9d); }-->
<!--        .stat-bills { background: linear-gradient(135deg, #f7971e, #ffd200); color: #333; }-->
<!--        .stat-revenue { background: linear-gradient(135deg, #ff416c, #ff4b2b); }-->

<!--        /* Chart cards */-->
<!--        .chart-card {-->
<!--            background: #fff;-->
<!--            border-radius: 15px;-->
<!--            padding: 25px;-->
<!--            box-shadow: 0 4px 12px rgba(0,0,0,0.08);-->
<!--            transition: transform 0.3s, box-shadow 0.3s;-->
<!--        }-->

<!--        .chart-card:hover {-->
<!--            transform: translateY(-4px);-->
<!--            box-shadow: 0 6px 18px rgba(0,0,0,0.12);-->
<!--        }-->

<!--        canvas { max-height: 300px; }-->

<!--        /* Responsive */-->
<!--        @media (max-width: 768px) {-->
<!--            #sidebar { width: 60px; }-->
<!--            #sidebar .nav-link span { display: none; }-->
<!--            #content { margin-left: 60px; padding: 20px; }-->
<!--            #top-navbar { margin-left: 60px; padding: 10px 15px; }-->
<!--            .stat-card h2 { font-size: 1.5rem; }-->
<!--        }-->
<!--    </style>-->
<!--</head>-->

<!--<body>-->

<!--&lt;!&ndash; Sidebar &ndash;&gt;-->
<!--<div id="sidebar">-->
<!--    <h4 class="text-center mb-4">ğŸ¥ Smart Hospital</h4>-->
<!--    <nav class="nav flex-column px-2">-->
<!--        <a class="nav-link active" href="/dashboard"><i class="bi bi-speedometer2"></i><span> Dashboard</span></a>-->
<!--        <a class="nav-link" href="/doctors"><i class="bi bi-person-badge"></i><span> Doctors</span></a>-->
<!--        <a class="nav-link" href="/patients"><i class="bi bi-people-fill"></i><span> Patients</span></a>-->
<!--        <a class="nav-link" href="/billing/listBills"><i class="bi bi-receipt"></i><span> Billing</span></a>-->
<!--    </nav>-->
<!--</div>-->

<!--&lt;!&ndash; Top navbar &ndash;&gt;-->
<!--<div id="top-navbar" class="d-flex align-items-center">-->
<!--    &lt;!&ndash; Notifications &ndash;&gt;-->
<!--    <div class="nav-item dropdown">-->
<!--        <a class="nav-link position-relative" href="#" data-bs-toggle="dropdown">-->
<!--            <i class="bi bi-bell fs-4"></i>-->
<!--            <span class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger">3</span>-->
<!--        </a>-->
<!--        <ul class="dropdown-menu dropdown-menu-end">-->
<!--            <li><a class="dropdown-item" href="#">New patient registered</a></li>-->
<!--            <li><a class="dropdown-item" href="#">Billing overdue</a></li>-->
<!--            <li><a class="dropdown-item" href="#">Doctor schedule updated</a></li>-->
<!--        </ul>-->
<!--    </div>-->

<!--    &lt;!&ndash; Profile &ndash;&gt;-->
<!--    <div class="nav-item dropdown">-->
<!--        <a class="nav-link dropdown-toggle d-flex align-items-center" href="#" role="button" data-bs-toggle="dropdown">-->
<!--            <i class="bi bi-person-circle fs-4 me-2"></i> Admin-->
<!--        </a>-->
<!--        <ul class="dropdown-menu dropdown-menu-end">-->
<!--            <li><a class="dropdown-item" href="#">Profile</a></li>-->
<!--            <li><a class="dropdown-item" href="#">Settings</a></li>-->
<!--            <li><hr class="dropdown-divider"></li>-->
<!--            <li><a class="dropdown-item" href="/logout">Logout</a></li>-->
<!--        </ul>-->
<!--    </div>-->
<!--</div>-->

<!--&lt;!&ndash; Main content &ndash;&gt;-->
<!--&lt;!&ndash; ... keep all previous head and body setup ... &ndash;&gt;-->

<!--&lt;!&ndash; Main content &ndash;&gt;-->
<!--<div id="content">-->
<!--    <h2 class="fw-bold mb-5 text-center">Admin Dashboard</h2>-->

<!--    &lt;!&ndash; Quick Actions &ndash;&gt;-->
<!--    <div class="row g-4 mb-5 justify-content-center">-->
<!--        <div class="col-md-4">-->
<!--            <div class="dashboard-card">-->
<!--                <h5>ğŸ‘©â€âš•ï¸ Manage Doctors</h5>-->
<!--                <p>Add, update, or remove doctors in the system.</p>-->
<!--                <a href="/doctors" class="btn btn-outline-primary btn-outline-custom">Open</a>-->
<!--            </div>-->
<!--        </div>-->

<!--        <div class="col-md-4">-->
<!--            <div class="dashboard-card">-->
<!--                <h5>ğŸ¥ Manage Patients</h5>-->
<!--                <p>Register, view, or discharge patients easily.</p>-->
<!--                <a href="/patients" class="btn btn-outline-success btn-outline-custom">Open</a>-->
<!--            </div>-->
<!--        </div>-->

<!--        <div class="col-md-4">-->
<!--            <div class="dashboard-card">-->
<!--                <h5>ğŸ’³ Billing</h5>-->
<!--                <p>View and manage patient billing and payments.</p>-->
<!--                <a href="/billing/listBills" class="btn btn-outline-info btn-outline-custom">Open</a>-->
<!--            </div>-->
<!--        </div>-->
<!--    </div>-->

<!--    &lt;!&ndash; STAT CARDS &ndash;&gt;-->
<!--    <div class="row g-4 mb-5">-->
<!--        <div class="col-md-3">-->
<!--            <div class="stat-card stat-doctors">-->
<!--                <h6>Total Doctors</h6>-->
<!--                <h2 th:text="${doctorsCount}"></h2>-->
<!--                <i class="bi bi-person-badge"></i>-->
<!--            </div>-->
<!--        </div>-->

<!--        <div class="col-md-3">-->
<!--            <div class="stat-card stat-patients">-->
<!--                <h6>Total Patients</h6>-->
<!--                <h2 th:text="${patientsCount}"></h2>-->
<!--                <i class="bi bi-people-fill"></i>-->
<!--            </div>-->
<!--        </div>-->

<!--        <div class="col-md-3">-->
<!--            <div class="stat-card stat-bills">-->
<!--                <h6>Total Bills</h6>-->
<!--                <h2 th:text="${billsCount}"></h2>-->
<!--                <i class="bi bi-receipt"></i>-->
<!--            </div>-->
<!--        </div>-->

<!--        <div class="col-md-3">-->
<!--            <div class="stat-card stat-revenue">-->
<!--                <h6>Total Revenue (â‚¬)</h6>-->
<!--                <h2 th:text="${revenue}"></h2>-->
<!--                <i class="bi bi-cash-coin"></i>-->
<!--            </div>-->
<!--        </div>-->
<!--    </div>-->

<!--    &lt;!&ndash; CHARTS + Recent Activities &ndash;&gt;-->
<!--    <div class="row g-4">-->
<!--        &lt;!&ndash; Left column: Charts &ndash;&gt;-->
<!--        <div class="col-lg-8">-->
<!--            <div class="row g-4">-->
<!--                <div class="col-md-6">-->
<!--                    <div class="chart-card">-->
<!--                        <h5 class="text-center mb-4">Patients Per Month</h5>-->
<!--                        <canvas id="patientsChart"></canvas>-->
<!--                    </div>-->
<!--                </div>-->
<!--                <div class="col-md-6">-->
<!--                    <div class="chart-card">-->
<!--                        <h5 class="text-center mb-4">Paid vs Unpaid Bills</h5>-->
<!--                        <canvas id="billingChart"></canvas>-->
<!--                    </div>-->
<!--                </div>-->
<!--            </div>-->
<!--        </div>-->

<!--        &lt;!&ndash; Right column: Recent Activities &ndash;&gt;-->
<!--        <div class="col-lg-4">-->
<!--            <div class="chart-card" style="max-height: 500px; overflow-y: auto;">-->
<!--                <h5 class="mb-4">Recent Activities</h5>-->
<!--                <ul class="list-group list-group-flush">-->
<!--                    <li class="list-group-item d-flex justify-content-between align-items-start">-->
<!--                        <div>-->
<!--                            <div class="fw-bold">John Doe</div>-->
<!--                            New patient registered-->
<!--                        </div>-->
<!--                        <span class="badge bg-success rounded-pill">Now</span>-->
<!--                    </li>-->
<!--                    <li class="list-group-item d-flex justify-content-between align-items-start">-->
<!--                        <div>-->
<!--                            <div class="fw-bold">Billing #1023</div>-->
<!--                            Payment received-->
<!--                        </div>-->
<!--                        <span class="badge bg-primary rounded-pill">1h ago</span>-->
<!--                    </li>-->
<!--                    <li class="list-group-item d-flex justify-content-between align-items-start">-->
<!--                        <div>-->
<!--                            <div class="fw-bold">Dr. Smith</div>-->
<!--                            Schedule updated-->
<!--                        </div>-->
<!--                        <span class="badge bg-warning rounded-pill">2h ago</span>-->
<!--                    </li>-->
<!--                    <li class="list-group-item d-flex justify-content-between align-items-start">-->
<!--                        <div>-->
<!--                            <div class="fw-bold">Billing #1024</div>-->
<!--                            Payment pending-->
<!--                        </div>-->
<!--                        <span class="badge bg-danger rounded-pill">3h ago</span>-->
<!--                    </li>-->
<!--                    &lt;!&ndash; Add more items dynamically if needed &ndash;&gt;-->
<!--                </ul>-->
<!--            </div>-->
<!--        </div>-->
<!--    </div>-->
<!--</div>-->

<!--<script>-->
<!--    // Patients per month chart-->
<!--    const patientData = [[${patientsMonthly}]];-->

<!--    new Chart(document.getElementById('patientsChart'), {-->
<!--        type: 'line',-->
<!--        data: {-->
<!--            labels: ['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec'],-->
<!--            datasets: [{-->
<!--                label: 'Patients',-->
<!--                data: patientData,-->
<!--                borderColor: '#2575fc',-->
<!--                backgroundColor: 'rgba(37, 117, 252, 0.2)',-->
<!--                tension: 0.3,-->
<!--                fill: true,-->
<!--                pointRadius: 4-->
<!--            }]-->
<!--        },-->
<!--        options: { responsive: true, plugins: { legend: { display: false } } }-->
<!--    });-->

<!--    // Billing chart-->
<!--    new Chart(document.getElementById('billingChart'), {-->
<!--        type: 'doughnut',-->
<!--        data: {-->
<!--            labels: ['Paid', 'Unpaid'],-->
<!--            datasets: [{-->
<!--                data: [[${paidBills}]],-->
<!--                backgroundColor: ['#43cea2', '#ff416c'],-->
<!--                borderWidth: 2-->
<!--            }]-->
<!--        },-->
<!--        options: {-->
<!--            responsive: true,-->
<!--            plugins: { legend: { position: 'bottom', labels: { boxWidth: 20, padding: 15 } } }-->
<!--        }-->
<!--    });-->
<!--</script>-->


<!--<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>-->
<!--</body>-->
<!--</html>-->


























<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Admin Dashboard | Smart Hospital</title>

    <!-- Bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">

    <!-- Icons -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css">

    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <style>
        body { background: #f5f6fa; }

        .stat-card {
            border-radius: 15px;
            padding: 20px;
            background: white;
            box-shadow: 0 4px 12px rgba(0,0,0,0.08);
            transition: .3s;
        }

        .stat-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 6px 18px rgba(0,0,0,0.15);
        }

        .chart-card {
            background: white;
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }
    </style>
</head>

<body>

<div th:replace="fragments/header :: header"></div>

<div class="container py-4">

    <h2 class="fw-bold mb-4 text-center">Smart Hospital Admin Dashboard</h2>

    <div class="row g-4 justify-content-center mt-4">
                <div class="col-md-4">
                    <div class="card dashboard-card border-primary">
                        <div class="card-body">
                            <h5 class="card-title">ğŸ‘©â€âš•ï¸ Manage Doctors</h5>
                            <p class="card-text">Add, update, or remove doctors in the system.</p>
                            <a href="/doctors" class="btn btn-outline-primary">Open</a>
                        </div>
                    </div>
                </div>

                <div class="col-md-4">
                    <div class="card dashboard-card border-success">
                        <div class="card-body">
                            <h5 class="card-title">ğŸ¥ Manage Patients</h5>
                            <p class="card-text">Register, view, or discharge patients easily.</p>
                            <a href="/patients" class="btn btn-outline-success">Open</a>
                        </div>
                    </div>
                </div>

                <div class="col-md-4">
                    <div class="card dashboard-card border-info">
                        <div class="card-body">
                            <h5 class="card-title">ğŸ’³ Billing</h5>
                            <p class="card-text">View and manage patient billing and payments.</p>
                            <a href="/billing/listBills" class="btn btn-outline-info">Open</a>
                        </div>
                    </div>
                </div>
            </div>
    <br>
    <!-- STAT CARDS -->
    <div class="row g-4">

        <div class="col-md-4">
            <div class="stat-card">
                <h6>Total Doctors</h6>
                <h2 class="text-primary" th:text="${doctorsCount}"></h2>
                <i class="bi bi-person-badge fs-1 text-primary"></i>
            </div>
        </div>

        <div class="col-md-4">
            <div class="stat-card">
                <h6>Total Patients</h6>
                <h2 class="text-success" th:text="${patientsCount}"></h2>
                <i class="bi bi-people-fill fs-1 text-success"></i>
            </div>
        </div>

        <div class="col-md-4">
            <div class="stat-card">
                <h6>Total Bills</h6>
                <h2 class="text-warning" th:text="${billsCount}"></h2>
                <i class="bi bi-receipt fs-1 text-warning"></i>
            </div>
        </div>


    </div>

    <!-- CHARTS -->
    <div class="row mt-5 g-4">


        <div class="col-md-6">
            <div class="row g-4">

                <div class="stat-card">
                    <h6>Total Revenue (â‚¬)</h6>
                    <h2 class="text-info" th:text="${revenue}"></h2>
                    <i class="bi bi-cash-coin fs-1 text-info"></i>
                </div>

            <div class="row g-4">

            </div>
                <div class="chart-card">
                    <h5 class="text-center">Patients Per Month</h5>
                    <canvas id="patientsChart"></canvas>
                </div>
            </div>

        </div>

        <div class="col-md-5">
            <div class="chart-card">
                <h5 class="text-center">Paid vs Unpaid Bills</h5>
                <canvas id="billingChart"></canvas>
            </div>
        </div>

    </div>

</div>

<script>
    // Patients per month chart data (from Spring model)
    const patientData = [[${patientsMonthly}]];

    new Chart(document.getElementById('patientsChart'), {
        type: 'line',
        data: {
            labels: ['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec'],
            datasets: [{
                label: 'Patients',
                data: patientData,
                borderWidth: 2
            }]
        }
    });

    // Billing chart
    new Chart(document.getElementById('billingChart'), {
        type: 'doughnut',
        data: {
            labels: ['Paid', 'Unpaid'],
            datasets: [{
                data: [[${paidBills}]],
                borderWidth: 1
            }]
        }
    });
</script>

<div th:replace="fragments/footer :: footer"></div>

</body>
</html>






























<!--<!DOCTYPE html>-->
<!--<html xmlns:th="http://www.thymeleaf.org">-->
<!--<head>-->
<!--    <title>Dashboard | Smart Hospital</title>-->
<!--    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">-->
<!--    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>-->
<!--    <style>-->
<!--        html, body { height: 100%; }-->
<!--        body { display: flex; flex-direction: column; }-->
<!--        main { flex: 1 0 auto; }-->
<!--        footer { margin-top: auto; }-->
<!--        .dashboard-card:hover {-->
<!--            transform: translateY(-5px);-->
<!--            transition: 0.3s;-->
<!--            box-shadow: 0 4px 12px rgba(0,0,0,0.15);-->
<!--        }-->
<!--    </style>-->
<!--</head>-->
<!--<body>-->
<!--<div th:replace="fragments/header :: header"></div>-->

<!--<main class="container py-5 text-center">-->
<!--    <h2 class="mb-4">Welcome to Smart Hospital Management System</h2>-->
<!--    <p class="text-muted" th:text="${user != null ? 'Logged in as: ' + user.username + ' (' + user.role + ')' : 'Not logged in'}"></p>-->

<!--    <div class="row g-4 justify-content-center mt-4">-->
<!--        <div class="col-md-4">-->
<!--            <div class="card dashboard-card border-primary">-->
<!--                <div class="card-body">-->
<!--                    <h5 class="card-title">ğŸ‘©â€âš•ï¸ Manage Doctors</h5>-->
<!--                    <p class="card-text">Add, update, or remove doctors in the system.</p>-->
<!--                    <a href="/doctors" class="btn btn-outline-primary">Open</a>-->
<!--                </div>-->
<!--            </div>-->
<!--        </div>-->

<!--        <div class="col-md-4">-->
<!--            <div class="card dashboard-card border-success">-->
<!--                <div class="card-body">-->
<!--                    <h5 class="card-title">ğŸ¥ Manage Patients</h5>-->
<!--                    <p class="card-text">Register, view, or discharge patients easily.</p>-->
<!--                    <a href="/patients" class="btn btn-outline-success">Open</a>-->
<!--                </div>-->
<!--            </div>-->
<!--        </div>-->

<!--        <div class="col-md-4">-->
<!--            <div class="card dashboard-card border-info">-->
<!--                <div class="card-body">-->
<!--                    <h5 class="card-title">ğŸ’³ Billing</h5>-->
<!--                    <p class="card-text">View and manage patient billing and payments.</p>-->
<!--                    <a href="/billing/listBills" class="btn btn-outline-info">Open</a>-->
<!--                </div>-->
<!--            </div>-->
<!--        </div>-->
<!--    </div>-->


<!--</main>-->

<!--<div th:replace="fragments/footer :: footer"></div>-->
<!--<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>-->

<!--</body>-->
<!--</html>-->
